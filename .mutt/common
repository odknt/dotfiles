# parse text/html by using w3m
set mailcap_path=~/.mutt/mailcap
auto_view text/html
alternative_order text/plain text/enriched text/html

# sidebar
set sidebar_visible=yes
set sidebar_width=30
set sidebar_new_mail_only=no
set sidebar_format='%B%?F? [%F]?%* %?N?%N/?%S''
set sidebar_sort_method = 'unsorted'
set mail_check_stats
color sidebar_new green default
color sidebar_highlight white color8
color sidebar_divider color8 default
color sidebar_flagged red default

bind index,pager \CP sidebar-prev
bind index,pager \CN sidebar-next
bind index,pager \CO sidebar-open

bind index,pager B sidebar-toggle-visible

# thread
folder-hook . 'set sort=threads'

# all mark read
macro index A \
    "<tag-pattern>~N<enter><tag-prefix><clear-flag>N<untag-pattern>.<enter>" \
    "mark all new as read"

# remove all old flag
macro index \CA \
    "<tag-pattern>~O<enter><tag-prefix><clear-flag>O<untag-pattern>.<enter>" \
    "mark all new as read"
