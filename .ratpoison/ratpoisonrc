#!/bin/ratpoison

startup_message off

######################################################################
# Aliases
######################################################################

alias titlebar exec ratpoison -c "exec $HOME/.ratpoison/bin/titlebar"
alias statusbar exec ratpoison -c "exec $HOME/.ratpoison/bin/statusbar" -c "titlebar"
alias systray exec ratpoison -c "exec $HOME/.ratpoison/bin/systray"
alias compton exec ratpoison -c "exec $HOME/.ratpoison/bin/compton"
alias reload exec ratpoison -c "source $HOME/.ratpoison/ratpoisonrc"
alias runonce exec $HOME/.ratpoison/bin/runonce

######################################################################
# Set options
######################################################################

unmanage Top Expanded Edge Panel
unmanage Bottom Expanded Edge Panel
unmanage Netbook Launcher EFL
unmanage x-nautilus-desktop

set font tamsyn:pixelsize=12:antialias=false,pixelmplus10:pixelsize=10:antialias=false
set warp off
set border 1
set barborder 1
set bargravity c
set inputwidth 0

set fwcolor \#303030
set bwcolor \#303030
set fgcolor \#dddddd
set bgcolor \#101010
set barpadding 20 10

######################################################################
# Bind keys
######################################################################

escape M-w

bind q exec $BROWSER
bind c exec urxvtc
bind t exec urxvtc -e tty-clock -B -C 7 -c
bind m exec urxvtc -e ncmpcpp

######################################################################
# Top level keys
######################################################################

# Reload .ratpoisonrc
definekey top s-C-r reload

# Window juggling
definekey top M-n next
definekey top M-p prev

# Screen navigation
definekey top M-d exec dmenu_run -fn "tamsyn:pixelsize=12:antialias=false,pixelmplus10:pixelsize=10:antialias=false" -h 20
definekey top s-k nextscreen
definekey top s-j prevscreen
definekey top s-f fselect
definekey top M-Tab fselect

# Workspace navigation
definekey top M-1 vselect 1
definekey top M-2 vselect 2
definekey top M-3 vselect 3
definekey top M-4 vselect 4
definekey top M-5 vselect 5
definekey top M-6 vselect 6

# Frame navigation
definekey top M-h focusleft
definekey top M-j focusdown
definekey top M-k focusup
definekey top M-l focusright

# Screenshot
definekey top Print exec /opt/bin/gyazo

# Editor
definekey top s-s exec gvim

######################################################################
# Start programs
######################################################################

runonce dunst
runonce gol
runonce urxvtd -o -q

compton
exec nitrogen --restore
